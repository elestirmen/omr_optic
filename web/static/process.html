<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMR ƒ∞≈üleme - OMRChecker</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="navbar">
        <div class="nav-brand">
            <span class="logo">üìã</span>
            <span class="brand-text">OMRChecker</span>
        </div>
        <div class="nav-links">
            <a href="index.html" class="nav-link">Ana Sayfa</a>
            <a href="process.html" class="nav-link active">OMR ƒ∞≈üleme</a>
            <a href="scanner.html" class="nav-link">Tarayƒ±cƒ±</a>
            <a href="templates.html" class="nav-link">≈ûablonlar</a>
            <a href="analysis.html" class="nav-link">Sonu√ßlar</a>
        </div>
        <div class="nav-status">
            <span class="status-indicator online"></span>
            <span id="server-status">Baƒülƒ±</span>
        </div>
    </nav>

    <main class="container">
        <div class="page-header">
            <h1>OMR Formlarƒ±nƒ± ƒ∞≈üle</h1>
            <p>Form g√∂r√ºnt√ºlerini y√ºkleyin ve sonu√ßlarƒ± alƒ±n</p>
        </div>

        <div class="process-layout">
            <!-- Left Panel - Upload & Settings -->
            <div class="panel upload-panel">
                <div class="panel-header">
                    <h2>üì§ Dosya Y√ºkleme</h2>
                </div>

                <!-- Template Selection -->
                <div class="form-group">
                    <label for="template-select">≈ûablon Se√ßin</label>
                    <select id="template-select" class="form-control">
                        <option value="">-- ≈ûablon Se√ßin --</option>
                    </select>
                </div>

                <!-- Drop Zone -->
                <div class="dropzone" id="dropzone">
                    <div class="dropzone-content">
                        <span class="dropzone-icon">üìÅ</span>
                        <p class="dropzone-text">Dosyalarƒ± s√ºr√ºkleyip bƒ±rakƒ±n</p>
                        <p class="dropzone-hint">veya</p>
                        <button class="btn btn-outline"
                            onclick="event.stopPropagation(); document.getElementById('file-input').click()">
                            Dosya Se√ß
                        </button>
                        <input type="file" id="file-input" multiple accept="image/*" hidden>
                        <button class="btn btn-outline"
                            onclick="event.stopPropagation(); document.getElementById('folder-input').click()">
                            Klas√∂r Se√ß
                        </button>
                        <input type="file" id="folder-input" webkitdirectory directory multiple hidden>
                    </div>
                </div>

                <!-- File List -->
                <div class="file-list" id="file-list">
                    <div class="file-list-header">
                        <span>Y√ºklenen Dosyalar</span>
                        <button class="btn btn-sm btn-ghost" id="clear-files" style="display:none;">Temizle</button>
                    </div>
                    <div class="file-items" id="file-items"></div>
                </div>

                <!-- Process Button -->
                <button class="btn btn-primary btn-block" id="process-btn" disabled>
                    <span class="btn-icon">‚öôÔ∏è</span>
                    ƒ∞≈ülemeyi Ba≈ülat
                </button>
            </div>

            <!-- Right Panel - Results -->
            <div class="panel results-panel">
                <div class="panel-header">
                    <h2>üìä Sonu√ßlar</h2>
                    <div class="panel-actions">
                        <button class="btn btn-sm btn-outline" id="download-csv" disabled>
                            <span class="btn-icon">üì•</span> CSV ƒ∞ndir
                        </button>
                        <button class="btn btn-sm btn-outline" id="download-excel" disabled>
                            <span class="btn-icon">üì•</span> Excel ƒ∞ndir
                        </button>
                    </div>
                </div>

                <!-- Progress -->
                <div class="progress-section" id="progress-section" style="display:none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="progress-text">ƒ∞≈üleniyor...</p>
                </div>

                <!-- Results Container -->
                <div class="results-container" id="results-container">
                    <div class="results-empty">
                        <span class="empty-icon">üìã</span>
                        <p>Dosya y√ºkleyip i≈ülemeyi ba≈ülatƒ±n</p>
                    </div>
                </div>

                <!-- Results Table -->
                <div class="results-table-container" id="results-table-container" style="display:none;">
                    <table class="results-table" id="results-table">
                        <thead>
                            <tr id="results-header"></tr>
                        </thead>
                        <tbody id="results-body"></tbody>
                    </table>
                </div>

                <!-- Processed Images -->
                <div class="processed-images" id="processed-images" style="display:none;">
                    <h3>ƒ∞≈ülenmi≈ü G√∂r√ºnt√ºler</h3>
                    <div class="image-grid" id="image-grid"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Image Preview Modal -->
    <div class="modal" id="image-modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <img id="modal-image" src="" alt="Preview">
        </div>
    </div>

    <script src="js/process.js"></script>
</body>

</html>